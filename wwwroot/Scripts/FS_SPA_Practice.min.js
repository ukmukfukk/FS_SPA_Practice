import { Start as fX } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fY, MarkResizable as fZ, SetOptional as f0, GetOptional as f1, CreateFuncWithArgs as f2, DeleteEmptyFields as f3, Create as f4, OnLoad as f5 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(f6){ return"Dispose"in f6;}
function b(){ const f6=e.Create_1("");const f7=bu.Convert((ge) => { const gf=new n("New_1");const gg=(gf.h.push(new $("name", ge)),gf);const gh=E(gg.k, gg.h, []);const gi=new i(gh[1], B(gh[0]));let gj=(gg.i=gi,gi);return gj.Doc;}, c().v);const f8=new n("New_1");const f9=(f8.h.push(new u0037("listcontainer", f7)),f8);const f_=(f9.h.push(new u0036("name", f6)),f9);const f$=(f_.h.push(D(f_.k, "add", () => f_.i, () => { c().Append(f6.Get());f6.Set("");})),f_);const ga=E(f$.k, f$.h, [["name", 0, null]]);const gb=new i(ga[1], C(ga[0]));let gc=(f$.i=gb,gb);const gd=gc.Doc;bc("");bu.RunById("main", gd);}
function c(){ return u0039.People;}
class d { Equals(f6){ return this===f6;} GetHashCode(){ return -1;} }
let e=fY((f6) => class f7 extends d { static { e=f6(this);} static Create_1(f8){ return new H(false, {s:by(f8, [])}, f8);} static { } });
function f(f6){ throw new Error(f6);}
function g(f6){ return[f6.K, f6.V];}
function h(f6, f7){ const f8=1+f7-f6;return f8<=0?[]:bS(f8, (f9) => f9+f6);}
class i extends d { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(f6){ this.anchorRoot=f6;} constructor(f6, f7){ super();this.doc=f7;this.allVars=f6.$==0?f6.$0:f("Should not happen");this.anchorRoot=null;} }
function j(f6, f7){ l(f6, f7);return f6[f7];}
function k(f6, f7, f8){ l(f6, f7);f6[f7]=f8;}
function l(f6, f7){ if(f7<0||f7>=f6.length)f("Index was outside the bounds of the array.");}
function m(f6){ return f6.dims===2?f6.length*f6.length:f6.length;}
class n extends d { i;k;h;s;static New_1(){ return new this("New_1");} constructor(f6){ if(f6=="New_1"){ let f7;super();this.i=null;this.k=(f7=u0038(),String(f7));this.h=fZ([]);f0(this, "s", null);} } }
class o extends d { key;u0076ar;storage;v;it;Append(f6){ const f7=this.u0076ar.Get();const f8=this.key(f6);const f9=bZ((f_) => q(this.key(f_), f8), f7);if(f9!=null&&f9.$==1)this.u0076ar.Set(this.storage.SSetAt(f9.$0, f6, f7));else this.u0076ar.Set(this.storage.SAppend(f6, f7));this.ObsoleteKey(f8);} ObsoleteKey(f6){ let f7;const f8=(f7=null,[this.it.TryGetValue(f6, {get:() => f7, set:(f9) => { f7=f9;}}), f7]);if(f8[0]){ bD(f8[1]);this.it.RemoveKey(f6);} } GetEnumerator(){ return cD(this.u0076ar.Get());} GetEnumerator0(){ return cG(this.u0076ar.Get());} static New(f6, f7){ return new this("New", f6, f7);} static New_3(f6, f7, f8){ return new this("New_3", f6, f7, f8);} constructor(f6, f7, f8, f9){ let f_;let f$;if(f6=="New"){ f_=f7;f$=f8;f6="New_3";f7=f_;f8=e.Create_1(b3(bL(f_, f$.SInit())));f9=f$;} if(f6=="New_3"){ const ga=f7;const gb=f8;const gc=f9;super();this.key=ga;this.u0076ar=gb;this.storage=gc;this.v=cs((gd) => gd.slice(), this.u0076ar.View);this.it=new bB("New_5");} } }
class p extends d { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f6, f7){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ef("");} }
function q(f6, f7){ if(f6===f7)return true;else { const f8=typeof f6;if(f8=="object"){ if(f6===null||f6===void 0||f7===null||f7===void 0||!q(typeof f7, "object"))return false;else if("Equals"in f6)return f6.Equals(f7);else if("Equals"in f7)return false;else if(f6 instanceof Array&&f7 instanceof Array)return r(f6, f7);else if(f6 instanceof Date&&f7 instanceof Date)return s(f6, f7);else { const f9=[true];let f_;for(var ga in f6)if(((gb) => { f9[0]=!f6.hasOwnProperty(gb)||f7.hasOwnProperty(gb)&&q(f6[gb], f7[gb]);return!f9[0];})(ga))break;if(f9[0]){ let f$;for(var gb in f7)if(((gc) => { f9[0]=!f7.hasOwnProperty(gc)||f6.hasOwnProperty(gc);return!f9[0];})(gb))break;} return f9[0];} } else return f8=="function"&&("$Func"in f6?f6.$Func===f7.$Func&&f6.$Target===f7.$Target:"$Invokes"in f6&&"$Invokes"in f7&&r(f6.$Invokes, f7.$Invokes));} }
function r(f6, f7){ let f8;let f9;if(m(f6)===m(f7)){ f8=true;f9=0;while(f8&&f9<m(f6)){!q(j(f6, f9), j(f7, f9))?f8=false:void 0;f9=f9+1;} return f8;} else return false;}
function s(f6, f7){ return f6.getTime()===f7.getTime();}
function t(f6){ const f7=typeof f6;return f7=="function"?0:f7=="boolean"?f6?1:0:f7=="number"?f6:f7=="string"?u(f6):f7=="object"?f6==null?0:f6 instanceof Array?v(f6):w(f6):0;}
function u(f6){ let f7;if(f6===null)return 0;else { f7=5381;for(let f8=0, f9=f6.length-1;f8<=f9;f8++)f7=x(f7, f6[f8].charCodeAt());return f7;} }
function v(f6){ let f7=-34948909;for(let f8=0, f9=m(f6)-1;f8<=f9;f8++)f7=x(f7, t(j(f6, f8)));return f7;}
function w(f6){ if("GetHashCode"in f6)return f6.GetHashCode();else { const f7=[0];let f8;for(var f9 in f6)if(((f_) => { f7[0]=x(x(f7[0], u(f_)), t(f6[f_]));return false;})(f9))break;return f7[0];} }
function x(f6, f7){ return(f6<<5)+f6+f7;}
function y(f6, f7){ if(f6===f7)return 0;else { const f8=typeof f6;switch(f8=="function"?1:f8=="boolean"?2:f8=="number"?2:f8=="string"?2:f8=="object"?3:0){ case 0:return typeof f7=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return f6<f7?-1:1;case 3:if(f6===null)return -1;else if(f7===null)return 1;else if("CompareTo"in f6)return f6.CompareTo(f7);else if("CompareTo0"in f6)return f6.CompareTo0(f7);else if(f6 instanceof Array&&f7 instanceof Array)return z(f6, f7);else if(f6 instanceof Date&&f7 instanceof Date)return A(f6, f7);else { const f9=[0];let f_;for(var ga in f6)if(((gb) =>!f6.hasOwnProperty(gb)?false:!f7.hasOwnProperty(gb)?(f9[0]=1,true):(f9[0]=y(f6[gb], f7[gb]),f9[0]!==0))(ga))break;if(f9[0]===0){ let f$;for(var gb in f7)if(((gc) =>!f7.hasOwnProperty(gc)?false:!f6.hasOwnProperty(gc)&&(f9[0]=-1,true))(gb))break;} return f9[0];} break;} } }
function z(f6, f7){ let f8;let f9;if(m(f6)<m(f7))return -1;else if(m(f6)>m(f7))return 1;else { f8=0;f9=0;while(f8===0&&f9<m(f6)){ f8=y(j(f6, f9), j(f7, f9));f9=f9+1;} return f8;} }
function A(f6, f7){ return y(f6.getTime(), f7.getTime());}
function B(f6){ bc("index");return f6?bd("index", G("listitem"), f6):void 0;}
function C(f6){ bc("index");return f6?bd("index", G("main"), f6):void 0;}
function D(f6, f7, f8, f9){ return new ba(f7, (f_) =>(f$) => { const ga=f8();ga.SetAnchorRoot(f_);return f9({Vars:ga, Anchors:ga, Target:f_, Event:f$});});}
function E(f6, f7, f8){ const f9=new bB("New_5");const f_=new bH("New_3");const f$=cD(f7);try { while(f$.MoveNext()){ const ga=f$.Current;const gb=ga.Name;f_.SAdd(gb);f9.set_Item(gb, ga);} } finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} return[bI(f7, bY((gc) => { const gd=gc[0];const ge=gc[1];const gf=gc[2];if(f_.Contains(gd))return null;else { const gg=ge===0?cb.GetOrAddHoleFor(f6, gd, () => { const gh=gf==null?null:G(gf.$0);let gi=e.Create_1(gh==null?"":gh.$0);return new u0036(gd, gi);}):ge===1?cb.GetOrAddHoleFor(f6, gd, () => { const gh=gf==null?null:G(gf.$0);let gi=e.Create_1(gh==null?0:gh.$0);return new cc(gd, gi);}):ge===2?cb.GetOrAddHoleFor(f6, gd, () => { const gh=gf==null?null:G(gf.$0);let gi=e.Create_1(gh==null?false:gh.$0);return new cd(gd, gi);}):ge===3?cb.GetOrAddHoleFor(f6, gd, () => { const gh=gf==null?null:G(gf.$0);let gi=e.Create_1(gh==null?-8640000000000000:gh.$0);return new ce(gd, gi);}):ge===4?cb.GetOrAddHoleFor(f6, gd, () => new cf(gd, e.Create_1([]))):ge===5?cb.GetOrAddHoleFor(f6, gd, () => new cg(gd, e.Create_1(G(globalThis.document.querySelector("[ws-dom="+gd+"]"))))):ge===6?cb.GetOrAddHoleFor(f6, gd, () => { const gh=gf==null?null:G(gf.$0);let gi=e.Create_1(gh==null?[]:gh.$0);return new ci(gd, gi);}):f("Invalid value type");f9.set_Item(gd, gg);return G(gg);} }, f8)), {$:0, $0:f9}];}
class F extends d { }
function G(f6){ return{$:1, $0:f6};}
class H extends F { isConst;current;snap;view;id;Get(){ return this.current;} Set(f6){ if(this.isConst)(((f7) => f7("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f7) => { console.log(f7);}));else { bD(this.snap);this.current=f6;this.snap={s:by(f6, [])};} } SetFinal(f6){ if(this.isConst)(((f7) => f7("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f7) => { console.log(f7);}));else { bD(this.snap);this.isConst=true;this.current=f6;this.snap={s:bz(f6)};} } get View(){ return this.view;} UpdateMaybe(f6){ const f7=f6(this.Get());if(f7!=null&&f7.$==1)this.Set(f7.$0);} constructor(f6, f7, f8){ super();this.isConst=f6;this.current=f8;this.snap=f7;this.view=() => this.snap;this.id=bv();} }
function I(f6, f7){ const f8=f7.s;if(f8!=null&&f8.$==0)return{s:bz(f6(f8.$0))};else { const f9={s:bA([], [])};L(f7, (f_) => { M(f9, f7, f6(f_));}, f9);return f9;} }
function J(f6, f7, f8){ const f9=f6.s;if(f9==null)f8();else f9!=null&&f9.$==2?(f9.$1.push(f8),f7(f9.$0)):f9!=null&&f9.$==3?(f9.$0.push(f7),f9.$1.push(f8)):f7(f9.$0);}
function K(f6, f7){ const f8=f6.s;if(f8==null)f7();else f8!=null&&f8.$==2?f8.$1.push(f7):f8!=null&&f8.$==3?f8.$1.push(f7):void 0;}
function L(f6, f7, f8){ const f9=f6.s;if(f9==null)bD(f8);else f9!=null&&f9.$==2?(S(f9.$1, f8),f7(f9.$0)):f9!=null&&f9.$==3?(f9.$0.push(f7),S(f9.$1, f8)):f7(f9.$0);}
function M(f6, f7, f8){ const f9=f7.s;if(f9!=null&&f9.$==0)T(f6, f8);else U(f6, f8);}
function N(f6, f7, f8, f9){ const f_=f7.s;const f$=f8.s;const ga=f9.s;if(f_!=null&&f_.$==0)return f$!=null&&f$.$==0?ga!=null&&ga.$==0?{s:bz(f6(f_.$0, f$.$0, ga.$0))}:W(f6, f_.$0, f$.$0, f9):ga!=null&&ga.$==0?X(f6, f_.$0, ga.$0, f8):Y(f6, f_.$0, f8, f9);else if(f$!=null&&f$.$==0)return ga!=null&&ga.$==0?Z(f6, f$.$0, ga.$0, f7):u0030(f6, f$.$0, f7, f9);else if(ga!=null&&ga.$==0)return u0031(f6, ga.$0, f7, f8);else { const gb={s:bA([], [])};const gc=() => { const gd=gb.s;if(!(gd!=null&&gd.$==0||gd!=null&&gd.$==2)){ const ge=u0032(f7);const gf=u0032(f8);const gg=u0032(f9);if(ge!=null&&ge.$==1)if(gf!=null&&gf.$==1)if(gg!=null&&gg.$==1)if(ge.$0[1]&&gf.$0[1]&&gg.$0[1])T(gb, f6(ge.$0[0], gf.$0[0], gg.$0[0]));else U(gb, f6(ge.$0[0], gf.$0[0], gg.$0[0]));} };L(f7, gc, gb);L(f8, gc, gb);L(f9, gc, gb);return gb;} }
function O(f6){ const f7=b3(f6);if(f7.length==0)return{s:bz([])};else { const f8={s:bA([], [])};const f9=[m(f7)-1];const f_=() => { if(f9[0]===0){ const f$=b6((ga) => { const gb=ga.s;return gb!=null&&gb.$==0?gb.$0:gb!=null&&gb.$==2?gb.$0:f("value not found by View.Sequence");}, f7);if(b_((ga) => { const gb=ga.s;return gb!=null&&gb.$==0;}, f7))T(f8, f$);else U(f8, f$);} else f9[0]=f9[0]-1;};b4((f$) => { L(f$, f_, f8);}, f7);return f8;} }
function P(f6, f7, f8){ const f9=f7.s;const f_=f8.s;if(f9!=null&&f9.$==0)return f_!=null&&f_.$==0?{s:bz(f6(f9.$0, f_.$0))}:u0033(f6, f9.$0, f8);else if(f_!=null&&f_.$==0)return u0034(f6, f_.$0, f7);else { const f$={s:bA([], [])};const ga=() => { const gb=f$.s;if(!(gb!=null&&gb.$==0||gb!=null&&gb.$==2)){ const gc=u0032(f7);const gd=u0032(f8);if(gc!=null&&gc.$==1)if(gd!=null&&gd.$==1)if(gc.$0[1]&&gd.$0[1])T(f$, f6(gc.$0[0], gd.$0[0]));else U(f$, f6(gc.$0[0], gd.$0[0]));} };L(f7, ga, f$);L(f8, ga, f$);return f$;} }
function Q(f6, f7){ const f8=f6.s;const f9=f7.s;if(f8!=null&&f8.$==0)return f9!=null&&f9.$==0?{s:bz(null)}:f7;else if(f9!=null&&f9.$==0)return f6;else { const f_={s:bA([], [])};const f$=() => { const ga=f_.s;if(!(ga!=null&&ga.$==0||ga!=null&&ga.$==2)){ const gb=u0032(f6);const gc=u0032(f7);if(gb!=null&&gb.$==1)if(gc!=null&&gc.$==1)if(gb.$0[1]&&gc.$0[1])T(f_, null);else U(f_, null);} };L(f6, f$, f_);L(f7, f$, f_);return f_;} }
function R(f6){ const f7=f6.s;if(f7==null)return f6;else if(f7!=null&&f7.$==2){ const f8={s:by(f7.$0, [])};u0035(f6, f8);return f8;} else if(f7!=null&&f7.$==3){ const f9={s:bA([], [])};L(f6, (f_) => { M(f9, f6, f_);}, f9);return f9;} else return f6;}
function S(f6, f7){ f6.push(f7);if(f6.length%20===0){ const f8=f6.slice(0);fN(f6);for(let f_=0, f$=m(f8)-1;f_<=f$;f_++){ const f9=j(f8, f_);if(typeof f9=="object")(((ga) => { if(ga.s)f6.push(ga);})(f9));else(((ga) => { f6.push(ga);})(f9));} } else void 0;}
function T(f6, f7){ const f8=f6.s;if(f8!=null&&f8.$==3){ f6.s=bz(f7);const f9=f8.$0;for(let f_=0, f$=m(f9)-1;f_<=f$;f_++)(j(f9, f_))(f7);} else void 0;}
function U(f6, f7){ const f8=f6.s;if(f8!=null&&f8.$==3){ f6.s=by(f7, f8.$1);const f9=f8.$0;for(let f_=0, f$=m(f9)-1;f_<=f$;f_++)(j(f9, f_))(f7);} else void 0;}
function V(f6){ const f7={s:bA([], [])};L(f6, (f8) => { const f9=f8();L(f9, (f_) => { let f$;const ga=f9.s;if(ga!=null&&ga.$==0){ const gb=f6.s;f$=gb!=null&&gb.$==0;} else f$=false;if(f$)T(f7, f_);else U(f7, f_);}, f7);}, f7);return f7;}
function W(f6, f7, f8, f9){ return I((f_) => f6(f7, f8, f_), f9);}
function X(f6, f7, f8, f9){ return I((f_) => f6(f7, f_, f8), f9);}
function Y(f6, f7, f8, f9){ return P((f_, f$) => f6(f7, f_, f$), f8, f9);}
function Z(f6, f7, f8, f9){ return I((f_) => f6(f_, f7, f8), f9);}
function u0030(f6, f7, f8, f9){ return P((f_, f$) => f6(f_, f7, f$), f8, f9);}
function u0031(f6, f7, f8, f9){ return P((f_, f$) => f6(f_, f$, f7), f8, f9);}
function u0032(f6){ const f7=f6.s;return f7!=null&&f7.$==0?G([f7.$0, true]):f7!=null&&f7.$==2?G([f7.$0, false]):null;}
function u0033(f6, f7, f8){ return I((f9) => f6(f7, f9), f8);}
function u0034(f6, f7, f8){ return I((f9) => f6(f9, f7), f8);}
function u0035(f6, f7){ const f8=f6.s;if(f8==null)bD(f7);else f8!=null&&f8.$==2?S(f8.$1, f7):f8!=null&&f8.$==3?S(f8.$1, f7):void 0;}
class u0036 extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(this.fillWith.View);} AddAttribute(f6, f7){(f6(f7))(d6(this.fillWith));} get AsChoiceView(){ return eg(cs(String, this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class u0037 extends p { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
function u0038(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f6) => { const f7=Math.random()*16|0;const f8=f6=="x"?f7:f7&3|8;return f8.toString(16);});}
let u0039=fY((f6) => class f7 { static { u0039=f6(this);} static People;static { this.People=bE(["John", "Paul"]);} });
class $ extends p { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ef(this.fillWith);} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class ba extends p { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
function bb(f6){ const f7={};const f8=cD(f6);try { while(f8.MoveNext()){ const f9=f8.Current;f7[f9[0]]=f9[1];} } finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} return f7;}
function bc(f6){!be()?(bf(true),bg(globalThis.document.body, "")):void 0;bh().set_Item(f6, bi(""));}
function bd(f6, f7, f8){ let f9;const f_=(f9=null,[bi(f6).TryGetValue(f7==null?"":f7.$0, {get:() => f9, set:(f$) => { f9=f$;}}), f9]);return f_[0]?bj(f_[1].cloneNode(true), f8):(console.warn("Local template doesn't exist", f7),bu.Empty);}
function be(){ return cI.LocalTemplatesLoaded;}
function bf(f6){ cI.LocalTemplatesLoaded=f6;}
function bg(f6, f7){ const f8=bi(f7);const f9=new bB("New_5");const f_=f6.querySelectorAll("[ws-template]");for(let gk=0, gl=f_.length-1;gk<=gl;gk++){ const f$=f_[gk];const ga=f$.getAttribute("ws-template").toLowerCase();f$.removeAttribute("ws-template");f9.set_Item(ga, bk(f$));} const gb=f6.querySelectorAll("[ws-children-template]");for(let gm=0, gn=gb.length-1;gm<=gn;gm++){ const gc=gb[gm];const gd=gc.getAttribute("ws-children-template").toLowerCase();gc.removeAttribute("ws-children-template");f9.set_Item(gd, bl(gc));} const ge=f6.querySelectorAll("template[id]");for(let go=0, gp=ge.length-1;go<=gp;go++){ const gf=ge[go];f9.set_Item(gf.getAttribute("id").toLowerCase(), bm(gf));} const gg=f6.querySelectorAll("template[name]");for(let gq=0, gr=gg.length-1;gq<=gr;gq++){ const gh=gg[gq];f9.set_Item(gh.getAttribute("name").toLowerCase(), bm(gh));} const gi=new bH("New_3");function gj(gs){ if(!f8.ContainsKey(gs)){ let gt;const gu=(gt=null,[f9.TryGetValue(gs, {get:() => gt, set:(gv) => { gt=gv;}}), gt]);if(gu[0]){ gi.SAdd(gs);f9.RemoveKey(gs);bn(f7, G(gs), gu[1], G(gj));} else console.warn(gi.Contains(gs)?"Encountered loop when instantiating "+gs:"Local template does not exist: "+gs);} } while(f9.count>0)gj(bJ(f9.Keys));}
function bh(){ return cI.LoadedTemplates;}
function bi(f6){ let f7;const f8=(f7=null,[bh().TryGetValue(f6, {get:() => f7, set:(f_) => { f7=f_;}}), f7]);if(f8[0])return f8[1];else { const f9=new bB("New_5");bh().set_Item(f6, f9);return f9;} }
function bj(f6, f7){ let f8;const f9=bo(f6, bI(f7, bp().Values));const f_=f9[1];const f$=f9[0];const ga=f$.Els;return!q(ga, null)&&ga.length===1&&(j(ga, 0)instanceof Node&&(q(j(ga, 0).nodeType, Node.ELEMENT_NODE)&&(f8=j(ga, 0),true)))?c8.TreeNode(f$, f_):bu.Mk(cl(f$), f_);}
function bk(f6){ f6.removeAttribute("ws-template");const f7=f6.getAttribute("ws-replace");if(f7==null){ } else { f6.removeAttribute("ws-replace");const f8=f6.parentNode;if(q(f8, null)){ } else { const f9=globalThis.document.createElement(f6.tagName);f9.setAttribute("ws-replace", f7);f8.replaceChild(f9, f6);} } const f_=globalThis.document.createElement("div");f_.appendChild(f6);return f_;}
function bl(f6){ const f7=globalThis.document.createElement("div");while(f6.hasChildNodes())f7.appendChild(f6.firstChild);return f7;}
function bm(f6){ const f7=globalThis.document.createElement("div");const f8=f6.content;for(let f9=0, f_=f8.childNodes.length-1;f9<=f_;f9++)f7.appendChild(f8.childNodes[f9].cloneNode(true));return f7;}
function bn(f6, f7, f8, f9){ const f_=new bH("New_3");function f$(gg, gh){ while(true)switch(gg){ case 0:if(gh!==null){ const gi=gh.nextSibling;if(q(gh.nodeType, Node.TEXT_NODE))c9(gh);else if(q(gh.nodeType, Node.ELEMENT_NODE))gb(gh);gh=gi;} else return null;break;case 1:const gj=df(gh.nodeName, G(3), null).toLowerCase();const gk=gj.indexOf(".");const gl=gk===-1?[f6, gj]:[df(gj, null, G(gk-1)), df(gj, G(gk+1), null)];const gm=gl[1];const gn=gl[0];if(gn!=""&&!bh().ContainsKey(gn))return c_(gm);else { if(gn==""&&f9!=null)f9.$0(gm);const go=bh().Item(gn);if(!go.ContainsKey(gm))return c_(gm);else { const gp=go.Item(gm);const gq=gp.cloneNode(true);const gr=new bH("New_3");const gs=new bB("New_5");const gt=gh.attributes;for(let gD=0, gE=gt.length-1;gD<=gE;gD++){ const gu=gt.item(gD).name.toLowerCase();const gv=gt.item(gD).nodeValue;let gw=gv==""?gu:gv.toLowerCase();gs.set_Item(gu, gw);if(!gr.SAdd(gu))console.warn("Hole mapped twice", gu);} for(let gF=0, gG=gh.childNodes.length-1;gF<=gG;gF++){ const gx=gh.childNodes[gF];if(q(gx.nodeType, Node.ELEMENT_NODE))if(!gr.SAdd(gx.nodeName.toLowerCase()))console.warn("Hole filled twice", gm);} const gy=gh.childNodes.length===1&&q(gh.firstChild.nodeType, Node.TEXT_NODE);if(gy){ const gz=c$(gq, gh.firstChild.textContent, gm);const gA=((gH) =>(gI) => gH.SAdd(gI))(gr);let gB=((gH) =>(gI) => { if(gI!=null)gH(gI.$0);})((gH) => { gA(gH);});gB(gz);} da(gq, gr);if(!gy){ for(let gH=0, gI=gh.childNodes.length-1;gH<=gI;gH++){ const gC=gh.childNodes[gH];if(q(gC.nodeType, Node.ELEMENT_NODE))if(gC.hasAttributes())db(gq, gC);else ga(gq, gC);} } dc(gq, gs);dd(gq, gh.parentNode, gh);gh.parentNode.removeChild(gh);return;} } break;} } function ga(gg, gh){ const gi=gh.nodeName.toLowerCase();const gj=(gn, go) => { if(gi=="title"&&gh.hasChildNodes()){ const gp=dg(gh.textContent);gh.removeChild(gh.firstChild);while(gp.hasChildNodes())gh.appendChild(gp.firstChild);} gb(gh);return dd(gh, gn, go);};bq(gg, "[ws-attr-holes]", (gn) => { const go=ej(gn.getAttribute("ws-attr-holes"), [" "], 1);for(let gs=0, gt=go.length-1;gs<=gt;gs++){ const gp=j(go, gs);let gq=new RegExp("\\${"+gi+"}", "ig");let gr=gn.getAttribute(gp).replace(gq, gh.textContent);gn.setAttribute(gp, gr);} });const gk=gg.querySelector("[ws-hole="+gi+"]");if(q(gk, null)){ const gl=gg.querySelector("[ws-replace="+gi+"]");if(q(gl, null)){ const gm=gg.querySelector("slot[name="+gi+"]");return gg.tagName.toLowerCase()=="template"?(gj(gm.parentNode, gm),void gm.parentNode.removeChild(gm)):null;} else { gj(gl.parentNode, gl);gl.parentNode.removeChild(gl);return;} } else { while(gk.hasChildNodes())gk.removeChild(gk.lastChild);gk.removeAttribute("ws-hole");return gj(gk, null);} } function gb(gg){ if(!gg.hasAttribute("ws-preserve"))if(ek(gg.nodeName.toLowerCase(), "ws-"))gd(gg);else { de(gg);gc(gg.firstChild);} } function gc(gg){ return f$(0, gg);} function gd(gg){ return f$(1, gg);} function ge(gg){ while(true){ const gh=gg.querySelector("[ws-template]");if(q(gh, null)){ const gi=gg.querySelector("[ws-children-template]");if(q(gi, null)){ const gj=gg.querySelectorAll("template[id]");for(let gp=1, gq=gj.length-1;gp<=gq;gp++){ const gk=gj[gp];if(f_.Contains(gk)){ } else { bn(f6, G(gk.getAttribute("id")), gk, null);f_.SAdd(gk);} } const gl=gg.querySelectorAll("template[name]");for(let gr=1, gs=gl.length-1;gr<=gs;gr++){ const gm=gl[gr];if(f_.Contains(gm)){ } else { bn(f6, G(gm.getAttribute("name")), gm, null);f_.SAdd(gm);} } return null;} else { const gn=gi.getAttribute("ws-children-template");gi.removeAttribute("ws-children-template");bn(f6, G(gn), gi, null);gg=gg;} } else { const go=gh.getAttribute("ws-template");(br(f6, G(go), gh))(null);gg=gg;} } } const gf=(f7==null?"":f7.$0).toLowerCase();bi(f6).set_Item(gf, f8);if(f8.hasChildNodes()){ ge(f8);gc(f8.firstChild);} }
function bo(f6, f7){ let f8;const f9=[];const f_=[];const f$=[];const ga=[];const gb=new bB("New_5");const gc=cD(f7);try { while(gc.MoveNext()){ const gd=gc.Current;gb.set_Item(gd.Name, gd);} } finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} let ge=dh(f6);const gf=(go, gp) => { const gq=dK(go, gp);f_.push(dL(gq));f$.push([go, gq]);const gr=f1(gq.OnAfterRender);if(gr==null)return null;else { const gs=gr.$0;ga.push(() => { gs(go);});return;} };const gg=(go) => { let gp;const gq=(gp=null,[gb.TryGetValue(go, {get:() => gp, set:(gt) => { gp=gt;}}), gp]);if(gq[0]){ const gr=gq[1];if(gr instanceof u0037)return G(gr.Value);else if(gr instanceof $)return G(bu.TextNode(gr.Value));else { const gs=gr.ForTextView();return gs==null?null:G(bu.TextView(gs.$0));} } else return null;};bq(f6, "[ws-hole]", (go) => { const gp=go.getAttribute("ws-hole");go.removeAttribute("ws-hole");while(go.hasChildNodes())go.removeChild(go.lastChild);const gq=gg(gp);if(gq!=null&&gq.$==1){ const gr=gq.$0;cJ(go, gr.docNode);f9.push(c6.New(dM(go), gr.docNode, null, go, bv(), null));f_.push(gr.updates);} });bq(f6, "[ws-replace]", (go) => { const gp=gg(go.getAttribute("ws-replace"));if(gp!=null&&gp.$==1){ const gq=gp.$0;const gr=go.parentNode;const gs=globalThis.document.createTextNode("");gr.replaceChild(gs, go);const gt=cQ(gs, gq.docNode);ge=dh(f6);const gu=bZ((gv) => go===gv, ge);if(gu==null){ } else k(ge, gu.$0, gq.docNode);f9.push(c6.New(dM(gr), gq.docNode, G([gt, gs]), gr, bv(), null));f_.push(gq.updates);} });let gh=false;bq(f6, "slot", (go) => { const gp=go.getAttribute("name");const gq=gp==""||gp==null?"default":gp.toLowerCase();if(gh&&gq=="default"||!q(f6.parentElement, null)){ } else { while(go.hasChildNodes())go.removeChild(go.lastChild);if(gq=="default")gh=true;const gr=gg(gq);if(gr!=null&&gr.$==1){ const gs=gr.$0;cJ(go, gs.docNode);f9.push(c6.New(dM(go), gs.docNode, null, go, bv(), null));f_.push(gs.updates);} } });bq(f6, "[ws-attr]", (go) => { let gp;const gq=go.getAttribute("ws-attr");go.removeAttribute("ws-attr");const gr=(gp=null,[gb.TryGetValue(gq, {get:() => gp, set:(gt) => { gp=gt;}}), gp]);if(gr[0]){ const gs=gr[1];if(gs instanceof d1)gf(go, gs.Value);else console.warn("Attribute hole filled with non-attribute data", gq);} });bq(f6, "[ws-on]", (go) => { gf(go, ec.Concat(bY((gp) => { let gq;const gr=ej(gp, [":"], 1);const gs=(gq=null,[gb.TryGetValue(j(gr, 1), {get:() => gq, set:(gu) => { gq=gu;}}), gq]);if(gs[0]){ const gt=gs[1];return gt instanceof d2?G(d3(j(gr, 0), gt.Value)):gt instanceof ba?G(ec.Handler(j(gr, 0), gt.Value)):(console.warn("Event hole on"+j(gr, 0)+" filled with non-event data", j(gr, 1)),null);} else return null;}, ej(go.getAttribute("ws-on"), [" "], 1))));go.removeAttribute("ws-on");});bq(f6, "[ws-onafterrender]", (go) => { let gp;const gq=go.getAttribute("ws-onafterrender");const gr=(gp=null,[gb.TryGetValue(gq, {get:() => gp, set:(gt) => { gp=gt;}}), gp]);if(gr[0]){ const gs=gr[1];if(gs instanceof ed){ go.removeAttribute("ws-onafterrender");gf(go, d4(gs.Value));} else if(gs instanceof ee){ go.removeAttribute("ws-onafterrender");gf(go, d4(gs.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gq);} });bq(f6, "[ws-var]", (go) => { let gp;const gq=go.getAttribute("ws-var");go.removeAttribute("ws-var");const gr=(gp=null,[gb.TryGetValue(gq, {get:() => gp, set:(gs) => { gp=gs;}}), gp]);if(gr[0])gr[1].AddAttribute((gs) =>(gt) => gf(gs, gt), go);});const gi=() => { bs("[ws-dom]", (go) => { let gp;let gq;let gr;const gs=(gp=null,[gb.TryGetValue(go.getAttribute("ws-dom").toLowerCase(), {get:() => gp, set:(gw) => { gp=gw;}}), gp]);if(gs[0]){ const gt=gs[1];if(gt instanceof cg){ const gu=gt.Value;go.removeAttribute("ws-dom");gq=go;const gv=new MutationObserver((gw, gx) => { b4((gy) => { gy.removedNodes.forEach(f2((gz) => gz[0]===gq&&gy.addedNodes.length!==1?(gu.SetFinal(null),gx.disconnect()):null), null);}, gw);});if(go.parentElement!==null)gv.observe(go.parentElement, (gr={},gr.childList=true,gr));gu.Set(G(go));cu((gw) => { if(gw!=null&&gw.$==1){ const gx=gw.$0;if(gq===gx){ } else { gq.replaceWith(gx);gq=gx;} } else { gq.remove();gv.disconnect();} }, gu.View);} } });};bq(f6, "[ws-attr-holes]", (go) => { const gp=new RegExp(bt(), "g");const gq=ej(go.getAttribute("ws-attr-holes"), [" "], 1);go.removeAttribute("ws-attr-holes");for(let gr=0, gs=gq.length-1;gr<=gs;gr++)((() => { let gt;const gu=j(gq, gr);const gv=go.getAttribute(gu);let gw=null;let gx=0;const gy=[];while(gw=gp.exec(gv),gw!==null){ const gz=df(gv, G(gx), G(gp.lastIndex-j(gw, 0).length-1));gx=gp.lastIndex;gy.push([gz, j(gw, 1)]);} const gA=df(gv, G(gx), null);gp.lastIndex=0;const gB=b5((gG, gH) =>(((gI) => { const gJ=gI[0];const gK=gI[1];return(gL) => { let gM;const gN=gL[0];const gO=gL[1];const gP=(gM=null,[gb.TryGetValue(gK, {get:() => gM, set:(gR) => { gM=gR;}}), gM]);const gQ=gP[0]?gP[1].AsChoiceView:ef("");return gQ.$==1?[gJ, eh.Cons(gN==""?gQ.$0:cs((gR) => gR+gN, gQ.$0), gO)]:[gJ+gQ.$0+gN, gO];};})(gG))(gH), gy, [gA, eh.Empty]);if(gB[1].$==1){ if(gB[1].$1.$==1){ if(gB[1].$1.$1.$==1){ if(gB[1].$1.$1.$1.$==0){ const gC=gB[0];gt=d5(gu, cx((gG, gH, gI) => gC+gG+gH+gI, gB[1].$0, gB[1].$1.$0, gB[1].$1.$1.$0));} else { const gD=gB[0];gt=d5(gu, cs((gG) => gD+ei("", gG), cy(gB[1])));} } else { const gE=gB[0];gt=d5(gu, cz((gG, gH) => gE+gG+gH, gB[1].$0, gB[1].$1.$0));} } else if(gB[0]=="")gt=d5(gu, gB[1].$0);else { const gF=gB[0];gt=d5(gu, cs((gG) => gF+gG, gB[1].$0));} } else gt=ec.Create(gu, gB[0]);return gf(go, gt);})());});let gj=ge;const gk=ga.length==0?G(() => { gi();}):G((go) => { gi();b4((gp) => { gp(go);}, ga);});const gl=!q(ge, null)&&ge.length===1&&(j(ge, 0)instanceof Node&&(j(ge, 0)instanceof Element&&(f8=j(ge, 0),true)))?G(f8):null;let gm={Els:gj, Dirty:true, Holes:f9, Attrs:f$, Render:gk?gk.$0:void 0, El:gl?gl.$0:void 0};let gn=f3(gm, ["Render", "El"]);return[gn, dH(ct(), cA, f_)];}
function bp(){ return cI.GlobalHoles;}
function bq(f6, f7, f8){ dn(f6, f7, (f9) => { if(f9.closest("[ws-preserve]")==null)f8(f9);});}
function br(f6, f7, f8){ const f9=bk(f8);return(f_) => { bn(f6, f7, f9, f_);};}
function bs(f6, f7){ do_1(f6, (f8) => { if(f8.closest("[ws-preserve]")==null)f7(f8);});}
function bt(){ return cI.TextHoleRE;}
class bu extends d { docNode;updates;static RunById(f6, f7){ const f8=globalThis.document.getElementById(f6);if(q(f8, null))f("invalid id: "+f6);else bu.Run(f8, f7);} static Convert(f6, f7){ return bu.Flatten(cq(f6, f7));} static Run(f6, f7){ cJ(f6, f7.docNode);bu.RunInPlace(false, f6, f7);} static Flatten(f6){ return bu.EmbedView(cs(bu.Concat, f6));} static get Empty(){ return bu.Mk(null, ct());} static RunInPlace(f6, f7, f8){ const f9=cL(f7, f8.docNode);cu(dv()||dC()?dD(cM(f6, f9, f8.docNode)):() => { cN(f6, f9, f8.docNode);}, f8.updates);} static Concat(f6){ return dH(bu.Empty, bu.Append, dG(f6));} static EmbedView(f6){ const f7=cO();return bu.Mk(cm(f7), cs(() => { }, cw((f8) => { cP(f7, f8.docNode);return f8.updates;}, f6)));} static Mk(f6, f7){ return new bu(f6, f7);} static Append(f6, f7){ return bu.Mk(cn(f6.docNode, f7.docNode), cA(f6.updates, f7.updates));} static TextNode(f6){ return bu.Mk(co(globalThis.document.createTextNode(f6)), ct());} static TextView(f6){ const f7=cY();return bu.Mk(cp(f7), cs((f8) => { cZ(f7, f8);}, f6));} constructor(f6, f7){ super();this.docNode=f6;this.updates=f7;} }
function bv(){ bw(bx()+1);return bx();}
function bw(f6){ c5.counter=f6;}
function bx(){ return c5.counter;}
function by(f6, f7){ return{$:2, $0:f6, $1:f7};}
function bz(f6){ return{$:0, $0:f6};}
function bA(f6, f7){ return{$:3, $0:f6, $1:f7};}
class bB extends d { equals;hash;count;data;set_Item(f6, f7){ this.set(f6, f7);} set(f6, f7){ const f8=this.hash(f6);const f9=this.data[f8];if(f9==null){ this.count=this.count+1;this.data[f8]=new Array({K:f6, V:f7});} else { const f_=bZ((f$) => this.equals.apply(null, [(g(f$))[0], f6]), f9);if(f_==null){ this.count=this.count+1;f9.push({K:f6, V:f7});} else f9[f_.$0]={K:f6, V:f7};} } TryGetValue(f6, f7){ const f8=this.data[this.hash(f6)];if(f8==null)return false;else { const f9=b0((f_) => { const f$=g(f_);return this.equals.apply(null, [f$[0], f6])?G(f$[1]):null;}, f8);return f9!=null&&f9.$==1&&(f7.set(f9.$0),true);} } RemoveKey(f6){ return this.remove(f6);} ContainsKey(f6){ const f7=this.data[this.hash(f6)];return f7==null?false:b1((f8) => this.equals.apply(null, [(g(f8))[0], f6]), f7);} get Keys(){ return new du(this);} GetEnumerator(){ return cG(b2(ch(this.data)));} get Values(){ return new er(this);} remove(f6){ const f7=this.hash(f6);const f8=this.data[f7];if(f8==null)return false;else { const f9=b7((f_) =>!this.equals.apply(null, [(g(f_))[0], f6]), f8);return m(f9)<f8.length&&(this.count=this.count-1,this.data[f7]=f9,true);} } Item(f6){ return this.get(f6);} get(f6){ const f7=this.data[this.hash(f6)];return f7==null?cC():b9((f8) => { const f9=g(f8);return this.equals.apply(null, [f9[0], f6])?G(f9[1]):null;}, f7);} static New_5(){ return new this("New_5");} static New_6(f6, f7, f8){ return new this("New_6", f6, f7, f8);} constructor(f6, f7, f8, f9){ if(f6=="New_5"){ f6="New_6";f7=[];f8=q;f9=t;} if(f6=="New_6"){ const f_=f7;const f$=f8;const ga=f9;super();this.equals=f$;this.hash=ga;this.count=0;this.data=[];const gb=cD(f_);try { while(gb.MoveNext()){ const gc=gb.Current;this.set(gc.K, gc.V);} } finally { if(typeof gb=="object"&&a(gb))gb.Dispose();} } } }
class bC { }
function bD(f6){ let f7;const f8=f6.s;if(f8==null||(f8!=null&&f8.$==2?(f7=f8.$1,false):f8!=null&&f8.$==3?(f7=f8.$1,false):true))void 0;else { f6.s=null;for(let f_=0, f$=m(f7)-1;f_<=f$;f_++){ const f9=j(f7, f_);if(typeof f9=="object")(((ga) => { bD(ga);})(f9));else f9();} } }
function bE(f6){ return bF((f7) => f7, f6);}
function bF(f6, f7){ return bG(f6, c7(b3(f7)));}
function bG(f6, f7){ return new o("New", f6, f7);}
class bH extends d { equals;hash;data;count;SAdd(f6){ return this.add(f6);} Contains(f6){ const f7=this.data[this.hash(f6)];return f7==null?false:this.arrContains(f6, f7);} add(f6){ const f7=this.hash(f6);const f8=this.data[f7];return f8==null?(this.data[f7]=[f6],this.count=this.count+1,true):this.arrContains(f6, f8)?false:(f8.push(f6),this.count=this.count+1,true);} arrContains(f6, f7){ let f8=true;let f9=0;const f_=f7.length;while(f8&&f9<f_)if(this.equals.apply(null, [f7[f9], f6]))f8=false;else f9=f9+1;return!f8;} GetEnumerator(){ return cD(eU(this.data));} ExceptWith(f6){ const f7=cD(f6);try { while(f7.MoveNext())this.Remove(f7.Current);} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } get Count(){ return this.count;} IntersectWith(f6){ const f7=new bH("New_4", f6, this.equals, this.hash);const f8=eU(this.data);for(let f_=0, f$=f8.length-1;f_<=f$;f_++){ const f9=f8[f_];if(!f7.Contains(f9))this.Remove(f9);} } Remove(f6){ const f7=this.data[this.hash(f6)];return f7==null?false:this.arrRemove(f6, f7)&&(this.count=this.count-1,true);} CopyTo(f6, f7){ const f8=eU(this.data);for(let f9=0, f_=f8.length-1;f9<=f_;f9++)k(f6, f9+f7, f8[f9]);} arrRemove(f6, f7){ let f8=true;let f9=0;const f_=f7.length;while(f8&&f9<f_)if(this.equals.apply(null, [f7[f9], f6])){ f7.splice(f9, 1);f8=false;} else f9=f9+1;return!f8;} static New_3(){ return new this("New_3");} static New_4(f6, f7, f8){ return new this("New_4", f6, f7, f8);} static New_2(f6){ return new this("New_2", f6);} constructor(f6, f7, f8, f9){ if(f6=="New_3"){ f6="New_4";f7=[];f8=q;f9=t;} let f_;if(f6=="New_2"){ f_=f7;f6="New_4";f7=f_;f8=q;f9=t;} if(f6=="New_4"){ const f$=f7;const ga=f8;const gb=f9;super();this.equals=ga;this.hash=gb;this.data=[];this.count=0;const gc=cD(f$);try { while(gc.MoveNext())this.add(gc.Current);} finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} } } }
function bI(f6, f7){ return{GetEnumerator:() => { const f8=cD(f6);const f9=[true];return new cH(f8, null, (f_) => { if(f_.s.MoveNext()){ f_.c=f_.s.Current;return true;} else { const f$=f_.s;if(!q(f$, null))f$.Dispose();f_.s=null;return f9[0]&&(f9[0]=false,f_.s=cD(f7),f_.s.MoveNext()?(f_.c=f_.s.Current,true):(f_.s.Dispose(),f_.s=null,false));} }, (f_) => { const f$=f_.s;if(!q(f$, null))f$.Dispose();});}};}
function bJ(f6){ const f7=cD(f6);try { return f7.MoveNext()?f7.Current:dr();} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} }
function bK(f6, f7, f8){ let f9=f7;const f_=cD(f8);try { while(f_.MoveNext())f9=f6(f9, f_.Current);return f9;} finally { if(typeof f_=="object"&&a(f_))f_.Dispose();} }
function bL(f6, f7){ return{GetEnumerator:() => { const f8=cD(f7);const f9=new bH("New_3");return new cH(null, null, (f_) => { let f$;let ga;if(f8.MoveNext()){ f$=f8.Current;ga=f9.SAdd(f6(f$));while(!ga&&f8.MoveNext()){ f$=f8.Current;ga=f9.SAdd(f6(f$));} return ga&&(f_.c=f$,true);} else return false;}, () => { f8.Dispose();});}};}
function bM(f6, f7){ const f8=cD(f7);try { while(f8.MoveNext())f6(f8.Current);} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} }
function bN(f6, f7){ return{GetEnumerator:() => { const f8=cD(f7);return new cH(null, null, (f9) => f8.MoveNext()&&(f9.c=f6(f8.Current),true), () => { f8.Dispose();});}};}
function bO(f6){ return{GetEnumerator:() => cD(f6())};}
function bP(f6, f7){ return bR(bN(f6, f7));}
function bQ(f6){ const f7=cD(f6);try { if(!f7.MoveNext())bT();let f8=f7.Current;while(f7.MoveNext()){ const f9=f7.Current;if(y(f9, f8)===1)f8=f9;} return f8;} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} }
function bR(f6){ return{GetEnumerator:() => { const f7=cD(f6);function f8(f9){ while(true){ const f_=f9.s;if(q(f_, null)){ if(f7.MoveNext()){ f9.s=cD(f7.Current);f9=f9;} else { f7.Dispose();return false;} } else if(f_.MoveNext()){ f9.c=f_.Current;return true;} else { f9.Dispose();f9.s=null;f9=f9;} } } return new cH(null, null, f8, (f9) => { const f_=f9.s;if(!q(f_, null))f_.Dispose();if(!q(f7, null))f7.Dispose();});}};}
function bS(f6, f7){ return bU(f6, bV(f7));}
function bT(){ return f("The input sequence was empty.");}
function bU(f6, f7){ f6<0?dt():void 0;return{GetEnumerator:() => { const f8=[cD(f7)];return new cH(0, null, (f9) => { f9.s=f9.s+1;if(f9.s>f6)return false;else { const f_=f8[0];return q(f_, null)?dr():f_.MoveNext()?(f9.c=f_.Current,f9.s===f6?(f_.Dispose(),f8[0]=null):void 0,true):(f_.Dispose(),f8[0]=null,dr());} }, () => { const f9=f8[0];if(!q(f9, null))f9.Dispose();});}};}
function bV(f6){ return{GetEnumerator:() => new cH(0, null, (f7) => { f7.c=f6(f7.s);f7.s=f7.s+1;return true;}, void 0)};}
function bW(f6, f7){ return!bX((f8) =>!f6(f8), f7);}
function bX(f6, f7){ const f8=cD(f7);try { let f9=false;while(!f9&&f8.MoveNext())f9=f6(f8.Current);return f9;} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} }
function bY(f6, f7){ const f8=[];for(let f_=0, f$=f7.length-1;f_<=f$;f_++){ const f9=f6(f7[f_]);if(f9==null){ } else f8.push(f9.$0);} return f8;}
function bZ(f6, f7){ let f8=null;let f9=0;while(f9<f7.length&&f8==null){ f6(f7[f9])?f8=G(f9):void 0;f9=f9+1;} return f8;}
function b0(f6, f7){ let f8=null;let f9=0;while(f9<f7.length&&f8==null){ const f_=f6(f7[f9]);if(f_!=null&&f_.$==1)f8=f_;f9=f9+1;} return f8;}
function b1(f6, f7){ let f8=false;let f9=0;while(!f8&&f9<m(f7))if(f6(f7[f9]))f8=true;else f9=f9+1;return f8;}
function b2(f6){ return Array.prototype.concat.apply([], b3(f6));}
function b3(f6){ if(f6 instanceof Array)return f6.slice();else if(f6 instanceof eh)return b8(f6);else { const f7=[];const f8=cD(f6);try { while(f8.MoveNext())f7.push(f8.Current);return f7;} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} } }
function b4(f6, f7){ for(let f8=0, f9=f7.length-1;f8<=f9;f8++)f6(f7[f8]);}
function b5(f6, f7, f8){ let f9=f8;const f_=f7.length;for(let f$=1, ga=f_;f$<=ga;f$++)f9=f6(f7[f_-f$], f9);return f9;}
function b6(f6, f7){ const f8=new Array(f7.length);for(let f9=0, f_=f7.length-1;f9<=f_;f9++)f8[f9]=f6(f7[f9]);return f8;}
function b7(f6, f7){ const f8=[];for(let f9=0, f_=f7.length-1;f9<=f_;f9++)if(f6(f7[f9]))f8.push(f7[f9]);return f8;}
function b8(f6){ const f7=[];let f8=f6;while(!(f8.$==0)){ f7.push(e1(f8));f8=e2(f8);} return f7;}
function b9(f6, f7){ const f8=b0(f6, f7);return f8==null?f("KeyNotFoundException"):f8.$0;}
function b_(f6, f7){ let f8=true;let f9=0;while(f8&&f9<m(f7))if(f6(f7[f9]))f9=f9+1;else f8=false;return f8;}
function b$(f6, f7){ const f8=new Array(f6);for(let f9=0, f_=f6-1;f9<=f_;f9++)f8[f9]=f7;return f8;}
function ca(f6, f7){ if(f6<0)f("Negative size given.");else null;const f8=new Array(f6);for(let f9=0, f_=f6-1;f9<=f_;f9++)f8[f9]=f7(f9);return f8;}
let cb=fY((f6) => class f7 extends d { static { cb=f6(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f8, f9, f_){ let f$;const ga=cb.GetHolesFor(f8);const gb=(f$=null,[ga.TryGetValue(f9, {get:() => f$, set:(gd) => { f$=gd;}}), f$]);if(gb[0])return gb[1];else { const gc=f_();ga.set_Item(f9, gc);return gc;} } static GetHolesFor(f8){ let f9;const f_=(f9=null,[cb.initialized.TryGetValue(f8, {get:() => f9, set:(ga) => { f9=ga;}}), f9]);if(f_[0])return f_[1];else { const f$=new bB("New_5");cb.initialized.set_Item(f8, f$);return f$;} } static { cb.initialized=new bB("New_5");cb.instances=new bB("New_5");} });
class cc extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cs(String, this.fillWith.View));} AddAttribute(f6, f7){(f6(f7))(d7(this.fillWith));} get AsChoiceView(){ return eg(cs(String, this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class cd extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cs(String, this.fillWith.View));} AddAttribute(f6, f7){(f6(f7))(d8(this.fillWith));} get AsChoiceView(){ return eg(cs(String, this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class ce extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cs((f6) =>(new Date(f6)).toLocaleString(), this.fillWith.View));} AddAttribute(f6, f7){(f6(f7))(d9(this.fillWith));} get AsChoiceView(){ return eg(cs((f6) =>(new Date(f6)).toLocaleString(), this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class cf extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cs(String, this.fillWith.View));} AddAttribute(f6, f7){(f6(f7))(d_(this.fillWith));} get AsChoiceView(){ return eg(cs(String, this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class cg extends p { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
function ch(f6){ let f7=[];let f8;for(var f9 in f6)f7.push(f6[f9]);return f7;}
class ci extends p { name;fillWith;get Name(){ return this.name;} ForTextView(){ return G(cs((f6) => ei(",", f6), this.fillWith.View));} AddAttribute(f6, f7){(f6(f7))(d$(this.fillWith));} get AsChoiceView(){ return eg(cs(String, this.fillWith.View));} constructor(f6, f7){ super();this.name=f6;this.fillWith=f7;} }
class cj extends d { }
function ck(f6, f7){ return fQ(f6, -2147483648, 2147483647, f7);}
function cl(f6){ return{$:6, $0:f6};}
function cm(f6){ return{$:2, $0:f6};}
function cn(f6, f7){ return{$:0, $0:f6, $1:f7};}
function co(f6){ return{$:5, $0:f6};}
function cp(f6){ return{$:4, $0:f6};}
function cq(f6, f7){ return cr((f8) => f8, f6, f7);}
function cr(f6, f7, f8){ const f9=[new bB("New_5")];return cs((f_) => { const f$=f9[0];const ga=new bB("New_5");const gb=dF((gc) => { const gd=f6(gc);const ge=f$.ContainsKey(gd)?f$.Item(gd):f7(gc);ga.set_Item(gd, ge);return ge;}, b3(f_));f9[0]=ga;return gb;}, f8);}
function cs(f6, f7){ return cv(() => I(f6, f7()));}
function ct(f6){ const f7={s:bz(f6)};return() => f7;}
function cu(f6, f7){ function f8(){ J(f7(), f6, () => { eF().Fork(f8);});} eF().Fork(f8);}
function cv(f6){ const f7={c:null, o:f6};return() => { let f8=f7.c;if(f8===null){ f8=f7.o();f7.c=f8;const f9=f8.s;if(f9!=null&&f9.$==0)f7.o=null;else K(f8, () => { f7.c=null;});return f8;} else return f8;};}
function cw(f6, f7){ return cB(cs(f6, f7));}
function cx(f6, f7, f8, f9){ return cv(() => N(f6, f7(), f8(), f9()));}
function cy(f6){ return cv(() => O(bN((f7) => f7(), f6)));}
function cz(f6, f7, f8){ return cv(() => P(f6, f7(), f8()));}
function cA(f6, f7){ return cv(() => Q(f6(), f7()));}
function cB(f6){ return cv(() => V(f6()));}
function cC(){ throw new e5("New");}
function cD(f6){ return f6 instanceof Array?cE(f6):q(typeof f6, "string")?cF(f6):f6.GetEnumerator();}
function cE(f6){ return new cH(0, null, (f7) => { const f8=f7.s;return f8<m(f6)&&(f7.c=j(f6, f8),f7.s=f8+1,true);}, void 0);}
function cF(f6){ return new cH(0, null, (f7) => { const f8=f7.s;return f8<f6.length&&(f7.c=f6[f8],f7.s=f8+1,true);}, void 0);}
function cG(f6){ return f6 instanceof Array?cE(f6):q(typeof f6, "string")?cF(f6):"GetEnumerator0"in f6?f6.GetEnumerator0():f6.GetEnumerator();}
class cH extends d { s;c;n;d;e;MoveNext(){ const f6=this.n(this);this.e=f6?1:2;return f6;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f6, f7, f8, f9){ super();this.s=f6;this.c=f7;this.n=f8;this.d=f9;this.e=0;} }
let cI=fY((f6) => class f7 { static { cI=f6(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bB("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bB("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cJ(f6, f7){ cK(f6, f7, null);}
function cK(f6, f7, f8){ while(true){ if(f7!=null&&f7.$==1)return cR(f6, f7.$0.El, f8);else if(f7!=null&&f7.$==2){ const f9=f7.$0;f9.Dirty=false;f7=f9.Current;} else if(f7==null)return f8;else if(f7!=null&&f7.$==4)return cR(f6, f7.$0.Text, f8);else if(f7!=null&&f7.$==5)return cR(f6, f7.$0, f8);else if(f7!=null&&f7.$==6)return b5((ga, gb) =>((((gc) =>(gd) =>(ge) => gd==null||gd.constructor===Object?cK(gc, gd, ge):cR(gc, gd, ge))(f6))(ga))(gb), f7.$0.Els, f8);else { const f_=f7.$1;const f$=f7.$0;f7=f$;f8=cK(f6, f_, f8);} } }
function cL(f6, f7){ return es(et(), cS(f6, dQ(), f7));}
function cM(f6, f7, f8){ if(dv()){ const f9=null;return eA(() => { const f_=eu(f8);const f$=cW(f7, f_);const ga=cV(f7, f_);return eB(dw(dx(f$, cU(f7, f_))), () => eB(cT(f6, f7), () => eB(dw(ga), () => { f7.PreviousNodes=f_;return eE(null);})));});} else return cT(f6, f7);}
function cN(f6, f7, f8){ const f9=eu(f8);cX(f6, f7.Top);f7.PreviousNodes=f9;}
function cO(){ return{Current:null, Dirty:false};}
function cP(f6, f7){ f6.Current=f7;f6.Dirty=true;}
function cQ(f6, f7){ const f8=f6.parentNode;const f9=globalThis.document.createTextNode("");f8.insertBefore(f9, f6);c0(f6, f7);return f9;}
function cR(f6, f7, f8){ dp(f6, f8, f7);return f7;}
function cS(f6, f7, f8){ cJ(f6, f8);const f9=dK(f6, f7);return c6.New(f9, f8, null, f6, bv(), f1(f9.OnAfterRender));}
function cT(f6, f7){ if(dC()){ const f8=(f9) => { requestAnimationFrame(() => { cX(f6, f7.Top);f9();});};return eJ((f9, f_, f$) => f8.apply(null, [f9, f_, f$]));} else { cX(f6, f7.Top);return eE(null);} }
function cU(f6, f7){ return dA(b6((f8) => dS(f8.Attr), ey(ex(f7, ew((f8) => dR(f8.Attr), f6.PreviousNodes)))));}
function cV(f6, f7){ return dA(b6((f8) => dU(f8.Attr), ey(ex(f6.PreviousNodes, ew((f8) => dT(f8.Attr), f7)))));}
function cW(f6, f7){ const f8=(f_) => dV(f_.Attr);const f9=(f_) => ew(f8, f_);return dA(b6((f_) => dW(f_.Attr), ey(ez(f9(f6.PreviousNodes), f9(f7)))));}
function cX(f6, f7){!f6?c1(f7):void 0;c2(f7.Children);c3(f7);}
function cY(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cZ(f6, f7){ f6.Value=f7;f6.Dirty=true;}
function c0(f6, f7){ cK(f6.parentNode, f7, f6);}
function c1(f6){ function f7(f8){ function f9(f_){ while(true){ if(f_!=null&&f_.$==0){ const f$=f_.$1;const ga=f_.$0;if(f9(ga))return true;else f_=f$;} else if(f_!=null&&f_.$==2){ const gb=f_.$0;if(gb.Dirty)return true;else f_=gb.Current;} else if(f_!=null&&f_.$==6){ const gc=f_.$0;return gc.Dirty||b1(f7, gc.Holes);} else return false;} } return f9(f8.Children);} dZ(f6.El, f6.Attr);if(f7(f6))c4(f6);}
function c2(f6){ while(true){ if(f6!=null&&f6.$==1)return cX(false, f6.$0);else if(f6!=null&&f6.$==2){ const f7=f6.$0;f6=f7.Current;} else if(f6==null)return null;else if(f6!=null&&f6.$==5)return null;else if(f6!=null&&f6.$==4){ const f8=f6.$0;return f8.Dirty?(f8.Text.nodeValue=f8.Value,f8.Dirty=false):null;} else if(f6!=null&&f6.$==6){ const f9=f6.$0;b4((ga) => { cX(false, ga);}, f9.Holes);b4((ga) => { dZ(ga[0], ga[1]);}, f9.Attrs);return c3(f9);} else { const f_=f6.$1;const f$=f6.$0;c2(f$);f6=f_;} } }
function c3(f6){ const f7=f1(f6.Render);if(f7!=null&&f7.$==1){ f7.$0(f6.El);f0(f6, "Render", null);} }
function c4(f6){ const f7=f6.El;function f8(ga, gb){ while(true){ if(ga!=null&&ga.$==1)return ga.$0.El;else if(ga!=null&&ga.$==2){ const gc=ga.$0;if(gc.Dirty){ gc.Dirty=false;return cK(f7, gc.Current, gb);} else ga=gc.Current;} else if(ga==null)return gb;else if(ga!=null&&ga.$==4)return ga.$0.Text;else if(ga!=null&&ga.$==5)return ga.$0;else if(ga!=null&&ga.$==6){ const gd=ga.$0;if(gd.Dirty)gd.Dirty=false;return b5((gg, gh) => gg==null||gg.constructor===Object?f8(gg, gh):gg, gd.Els, gb);} else { const ge=ga.$1;const gf=ga.$0;ga=gf;gb=f8(ge, gb);} } } const f9=f6.El;fK((ga) => { dq(f9, ga);}, fJ(fL(f6), fI(f6.El, f1(f6.Delimiters))));let f_=f6.Children;const f$=f1(f6.Delimiters);f8(f_, f$!=null&&f$.$==1?f$.$0[1]:null);}
let c5=fY((f6) => class f7 { static { c5=f6(this);} static counter;static { this.counter=0;} });
class c6 { Attr;Children;Delimiters;El;ElKey;Render;Equals(f6){ return this.ElKey===f6.ElKey;} GetHashCode(){ return this.ElKey;} static New(f6, f7, f8, f9, f_, f$){ const ga={Attr:f6, Children:f7, El:f9, ElKey:f_};let gb=(f0(ga, "Delimiters", f8),f0(ga, "Render", f$),ga);return f4(c6, gb);} }
function c7(f6){ return new dJ(f6);}
class c8 extends bu { docNode_1;updates_1;elt;rvUpdates;static TreeNode(f6, f7){ const f8=eq.Create(f7);const f9=b6((ga) => dL(ga[1]), f6.Attrs);let f_=dH(ct(), cA, f9);let f$=cA(f_, f8.v);return new c8(cl(f6), f$, j(f6.Els, 0), f8);} constructor(f6, f7, f8, f9){ super(f6, f7);this.docNode_1=f6;this.updates_1=f7;this.elt=f8;this.rvUpdates=f9;} }
function c9(f6){ let f7=null;let f8=0;const f9=f6.textContent;const f_=new RegExp(bt(), "g");while(f7=f_.exec(f9),f7!==null){ f6.parentNode.insertBefore(globalThis.document.createTextNode(df(f9, G(f8), G(f_.lastIndex-j(f7, 0).length-1))), f6);f8=f_.lastIndex;const f$=globalThis.document.createElement("span");f$.setAttribute("ws-replace", j(f7, 1).toLowerCase());f6.parentNode.insertBefore(f$, f6);} f_.lastIndex=0;f6.textContent=df(f9, G(f8), null);}
function c_(f6){ console.warn("Instantiating non-loaded template", f6);}
function c$(f6, f7, f8){ const f9=f6.querySelector("[ws-replace]");return q(f9, null)?(console.warn("Filling non-existent text hole", f8),null):(f9.parentNode.replaceChild(globalThis.document.createTextNode(f7), f9),G(f9.getAttribute("ws-replace")));}
function da(f6, f7){ const f8=(f9) => { bq(f6, "["+f9+"]", (f_) => { if(!f7.Contains(f_.getAttribute(f9)))f_.removeAttribute(f9);});};f8("ws-attr");f8("ws-onafterrender");f8("ws-var");bq(f6, "[ws-hole]", (f9) => { if(!f7.Contains(f9.getAttribute("ws-hole"))){ f9.removeAttribute("ws-hole");while(f9.hasChildNodes())f9.removeChild(f9.lastChild);} });bq(f6, "[ws-replace]", (f9) => { if(!f7.Contains(f9.getAttribute("ws-replace")))f9.parentNode.removeChild(f9);});bq(f6, "[ws-on]", (f9) => { f9.setAttribute("ws-on", ei(" ", b7((f_) => f7.Contains(j(ej(f_, [":"], 1), 1)), ej(f9.getAttribute("ws-on"), [" "], 1))));});bq(f6, "[ws-attr-holes]", (f9) => { const f_=ej(f9.getAttribute("ws-attr-holes"), [" "], 1);for(let gc=0, gd=f_.length-1;gc<=gd;gc++){ const f$=j(f_, gc);let ga=new RegExp(bt(), "g");let gb=f9.getAttribute(f$).replace(ga, (ge, gf) => f7.Contains(gf)?ge:"");f9.setAttribute(f$, gb);} });}
function db(f6, f7){ de(f7);const f8=f7.nodeName.toLowerCase();const f9=f6.querySelector("[ws-attr="+f8+"]");if(q(f9, null))console.warn("Filling non-existent attr hole", f8);else { f9.removeAttribute("ws-attr");for(let f$=0, ga=f7.attributes.length-1;f$<=ga;f$++){ const f_=f7.attributes.item(f$);if(f_.name=="class"&&f9.hasAttribute("class"))f9.setAttribute("class", f9.getAttribute("class")+" "+f_.nodeValue);else f9.setAttribute(f_.name, f_.nodeValue);} } }
function dc(f6, f7){ const f8=(f9) => { bq(f6, "["+f9+"]", (f_) => { let f$;const ga=(f$=null,[f7.TryGetValue(f_.getAttribute(f9).toLowerCase(), {get:() => f$, set:(gb) => { f$=gb;}}), f$]);if(ga[0])f_.setAttribute(f9, ga[1]);});};f8("ws-hole");f8("ws-replace");f8("ws-attr");f8("ws-onafterrender");f8("ws-var");bq(f6, "[ws-on]", (f9) => { f9.setAttribute("ws-on", ei(" ", b6((f_) => { let f$;const ga=ej(f_, [":"], 1);const gb=(f$=null,[f7.TryGetValue(j(ga, 1), {get:() => f$, set:(gc) => { f$=gc;}}), f$]);return gb[0]?j(ga, 0)+":"+gb[1]:f_;}, ej(f9.getAttribute("ws-on"), [" "], 1))));});bq(f6, "[ws-attr-holes]", (f9) => { const f_=ej(f9.getAttribute("ws-attr-holes"), [" "], 1);for(let f$=0, ga=f_.length-1;f$<=ga;f$++)((() => { const gb=j(f_, f$);return f9.setAttribute(gb, bK((gc, gd) => { const ge=g(gd);return gc.replace(new RegExp("\\${"+ge[0]+"}", "ig"), "${"+ge[1]+"}");}, f9.getAttribute(gb), f7));})());});}
function dd(f6, f7, f8){ while(true){ if(f6.hasChildNodes())f8=f7.insertBefore(f6.lastChild, f8);else return null;} }
function de(f6){ const f7=f6.attributes;const f8=[];const f9=[];const f_=[];for(let gd=0, ge=f7.length-1;gd<=ge;gd++){ const f$=f7.item(gd);if(ek(f$.nodeName, "ws-on")&&f$.nodeName!="ws-onafterrender"&&f$.nodeName!="ws-on"){ f8.push(f$.nodeName);f9.push(df(f$.nodeName, G("ws-on".length), null)+":"+f$.nodeValue.toLowerCase());} else if(!ek(f$.nodeName, "ws-")&&(new RegExp(bt())).test(f$.nodeValue)){ let ga=new RegExp(bt(), "g");let gb=f$.nodeValue.replace(ga, (gf, gg) =>"${"+gg.toLowerCase()+"}");f$.nodeValue=gb;f_.push(f$.nodeName);} else void 0;} if(!(f9.length==0))f6.setAttribute("ws-on", ei(" ", f9));if(!(f_.length==0))f6.setAttribute("ws-attr-holes", ei(" ", f_));const gc=(gf) => { const gg=f6.getAttribute(gf);if(gg==null){ } else f6.setAttribute(gf, gg.toLowerCase());};gc("ws-hole");gc("ws-replace");gc("ws-attr");gc("ws-onafterrender");gc("ws-var");b4((gf) => { f6.removeAttribute(gf);}, f8);}
function df(f6, f7, f8){ if(f7==null){ if(f8!=null&&f8.$==1){ const f9=f8.$0;return f9<0?"":f6.slice(0, f9+1);} else return"";} else if(f8==null)return f6.slice(f7.$0);else { const f_=f8.$0;return f_<0?"":f6.slice(f7.$0, f_+1);} }
function dg(f6){ const f7=globalThis.document.createElement("div");if(!di().test(f6)){ f7.appendChild(globalThis.document.createTextNode(f6));return f7;} else { const f8=dm().exec(f6);const f9=q(f8, null)?"":j(f8, 1).toLowerCase();const f_=(dj())[f9];const f$=f_?f_:dk();f7.innerHTML=f$[1]+f6.replace(dl(), "<$1></$2>")+f$[2];function ga(gb, gc){ while(true){ if(gc===0)return gb;else { const gd=gc;gb=gb.lastChild;gc=gd-1;} } } return ga(f7, f$[0]);} }
function dh(f6){ const f7=[];for(let f8=0, f9=f6.childNodes.length-1;f8<=f9;f8++)f7.push(f6.childNodes[f8]);return f7;}
function di(){ return eV.rhtml;}
function dj(){ return eV.wrapMap;}
function dk(){ return eV.defaultWrap;}
function dl(){ return eV.rxhtmlTag;}
function dm(){ return eV.rtagName;}
function dn(f6, f7, f8){ const f9=f6.querySelectorAll(f7);for(let f_=0, f$=f9.length-1;f_<=f$;f_++)f8(f9[f_]);}
function do_1(f6, f7){ const f8=globalThis.document.querySelectorAll(f6);for(let f9=0, f_=f8.length-1;f9<=f_;f9++)f7(f8[f9]);}
function dp(f6, f7, f8){ let f9;if(f8.parentNode===f6){ const f_=f8.nextSibling;let f$=q(f_, null)?null:f_;f9=f7===f$;} else f9=false;if(!f9)f6.insertBefore(f8, f7);}
function dq(f6, f7){ if(f7.parentNode===f6)f6.removeChild(f7);}
function dr(){ return f("The input sequence has an insufficient number of elements.");}
function ds(f6, f7){ let f8=true;let f9=0;while(f8&&f9<m(f7))if(q(f7[f9], f6))f8=false;else f9=f9+1;return!f8;}
function dt(){ return f("The input must be non-negative.");}
class du extends d { d;GetEnumerator(){ return cD(bN((f6) => f6.K, this.d));} constructor(f6){ super();this.d=f6;} }
function dv(){ return eL();}
function dw(f6){ const f7=null;return eA(() => eB(dy(() => { }, eM(f6)), () => { eN(f6);return eE(null);}));}
function dx(f6, f7){ return dz(eX(f6.$0, f7.$0));}
function dy(f6, f7){ const f8=f7.Duration;if(f8===0)return eC();else { const f9=(f_) => { function f$(ga){ return(gb) => { const gc=gb-ga;f7.Compute(gc);f6();return gc<=f8?void requestAnimationFrame((gd) => {(f$(ga))(gd);}):f_();};} requestAnimationFrame((ga) => {(f$(ga))(ga);});};return eJ((f_, f$, ga) => f9.apply(null, [f_, f$, ga]));} }
function dz(f6){ return{$:0, $0:f6};}
function dA(f6){ return dz(eZ(bN(eP, f6)));}
function dB(){ return dz(e0());}
function dC(){ return eT.BatchUpdatesEnabled;}
function dD(f6){ const f7=[0];function f8(){ const f9=null;return eA(() => eB(f6, () => { const f_=f7[0];return q(f_, 1)?(f7[0]=0,eC()):q(f_, 2)?(f7[0]=1,f8()):eC();}));} return() => { const f9=f7[0];if(q(f9, 0)){ f7[0]=1;eD(f8(), null);} else q(f9, 1)?f7[0]=2:void 0;};}
function dE(f6, f7, f8, f9){ const f_={DynElem:f6, DynFlags:f7, DynNodes:f8};f0(f_, "OnAfterRender", f9);return f_;}
function dF(f6, f7){ for(let f8=0, f9=f7.length-1;f8<=f9;f8++)f7[f8]=f6(f7[f8]);return f7;}
function dG(f6){ if(f6 instanceof Array)return f6;else if(f6 instanceof eh)return b8(f6);else if(f6===null)return[];else { const f7=[];const f8=cD(f6);try { while(f8.MoveNext())f7.push(f8.Current);return f7;} finally { if(typeof f8=="object"&&a(f8))f8.Dispose();} } }
function dH(f6, f7, f8){ const f9=m(f8);function f_(f$){ return(ga) => { let gb;switch(ga<=0?0:ga===1?f$>=0&&f$<f9?1:(gb=ga,2):(gb=ga,2)){ case 0:return f6;case 1:return j(f8, f$);case 2:const gc=ga/2>>0;return f7((f_(f$))(gc), (f_(f$+gc))(ga-gc));} };} return(f_(0))(f9);}
function dI(f6, f7, f8, f9){ const f_=m(f9);function f$(ga){ return(gb) => { let gc;switch(gb<=0?0:gb===1?ga>=0&&ga<f_?1:(gc=gb,2):(gc=gb,2)){ case 0:return f7;case 1:return f6(j(f9, ga));case 2:const gd=gb/2>>0;return f8((f$(ga))(gd), (f$(ga+gd))(gb-gd));} };} return(f$(0))(f_);}
class dJ extends d { init;SSetAt(f6, f7, f8){ k(f8, f6, f7);return f8;} SAppend(f6, f7){ f7.push(f6);return f7;} SInit(){ return this.init;} constructor(f6){ super();this.init=f6;} }
function dK(f6, f7){ const f8=[];const f9=[];function f_(gb){ while(true){ if(!(gb===null)){ if(gb!=null&&gb.$==1)return f8.push(gb.$0);else if(gb!=null&&gb.$==2){ const gc=gb.$1;const gd=gb.$0;f_(gd);gb=gc;} else return gb!=null&&gb.$==3?gb.$0(f6):gb!=null&&gb.$==4?f9.push(gb.$0):null;} else return null;} } f_(f7);const f$=f8.slice(0);let ga=dE(f6, dN(f7), f$, f9.length===0?null:G((gb) => { bM((gc) => { gc(gb);}, f9);}));return ga;}
function dL(f6){ return dI((f7) => f7.NChanged, ct(), cA, f6.DynNodes);}
function dM(f6){ return dE(f6, 0, [], null);}
function dN(f6){ return f6!==null&&f6.hasOwnProperty("flags")?f6.flags:0;}
function dO(f6){ return ec.A3(f6);}
function dP(f6, f7){ return ec.A1(new e4(f6, f7));}
function dQ(){ return e6.EmptyAttr;}
function dR(f6){ const f7=2;return(f6.DynFlags&f7)===f7;}
function dS(f6){ return dY(f6, (f7, f8) => f7.NGetExitAnim(f8));}
function dT(f6){ const f7=1;return(f6.DynFlags&f7)===f7;}
function dU(f6){ return dY(f6, (f7, f8) => f7.NGetEnterAnim(f8));}
function dV(f6){ const f7=4;return(f6.DynFlags&f7)===f7;}
function dW(f6){ return dY(f6, (f7, f8) => f7.NGetChangeAnim(f8));}
function dX(f6, f7){ if(f6===null)return f7;else if(f7===null)return f6;else { const f8=ec.A2(f6, f7);d0(f8, dN(f6)|dN(f7));return f8;} }
function dY(f6, f7){ return dA(b6((f8) => f7(f8, f6.DynElem), f6.DynNodes));}
function dZ(f6, f7){ b4((f8) => { f8.NSync(f6);}, f7.DynNodes);}
function d0(f6, f7){ f6.flags=f7;}
class d1 extends p { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d2 extends p { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d3(f6, f7){ return dO((f8) => { f8.addEventListener(f6, (f9) =>(f7(f8))(f9), false);});}
function d4(f6){ return ec.A4(f6);}
function d5(f6, f7){ return dP(f7, (f8) =>(f9) => f8.setAttribute(f6, f9));}
function d6(f6){ return ea(fz(), f6);}
function d7(f6){ return ea(fA(), f6);}
function d8(f6){ return ea(fB(), f6);}
function d9(f6){ return ea(fC(), f6);}
function d_(f6){ return ea(fD(), f6);}
function d$(f6){ return ea(fE(), f6);}
function ea(f6, f7){ const f8=f6(f7);return ec.Append(dO(f8[0]), eb(f8[1], f8[2]));}
function eb(f6, f7){ return dP(f7, f6);}
class ec { static Handler(f6, f7){ return ec.HandlerImpl(f6, f7);} static Concat(f6){ const f7=dG(f6);return dH(dQ(), ec.Append, f7);} static Create(f6, f7){ return dO((f8) => { f8.setAttribute(f6, f7);});} static HandlerImpl(f6, f7){ return dO((f8) => { f8.addEventListener(f6, (f9) =>(f7(f8))(f9), false);});} static Append(f6, f7){ return dX(f6, f7);} static A4(f6){ return f4(ec, {$:4, $0:f6});} static A3(f6){ return f4(ec, {$:3, $0:f6});} static A1(f6){ return f4(ec, {$:1, $0:f6});} static A2(f6, f7){ return f4(ec, {$:2, $0:f6, $1:f7});} }
class ed extends p { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ee extends p { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ef(f6){ return{$:0, $0:f6};}
function eg(f6){ return{$:1, $0:f6};}
class eh { static Cons(f6, f7){ return f4(eh, {$:1, $0:f6, $1:f7});} static Empty=f4(eh, {$:0});GetEnumerator(){ return new cH(this, null, (f6) => { const f7=f6.s;return f7.$==0?false:(f6.c=f7.$0,f6.s=f7.$1,true);}, void 0);} }
function ei(f6, f7){ return b3(f7).join(f6);}
function ej(f6, f7, f8){ return el(f6, new RegExp("["+em(f7.join(""))+"]"), f8);}
function ek(f6, f7){ return f6.substring(0, f7.length)==f7;}
function el(f6, f7, f8){ return f8===1?b7((f9) => f9!=="", en(f6, f7)):en(f6, f7);}
function em(f6){ return f6.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function en(f6, f7){ return f6.split(f7);}
function eo(f6, f7){ return bW(f6, ep(f7));}
function ep(f6){ return f6==null?"":f6;}
class eq { c;s;v;static Create(f6){ let f7;f7=null;f7=eq.New(f6, null, () => { let f8;f8=f7.s;return f8===null?(f8=R(f7.c()),f7.s=f8,K(f8, () => { f7.s=null;}),f8):f8;});return f7;} static New(f6, f7, f8){ return f4(eq, {c:f6, s:f7, v:f8});} }
class er extends d { d;GetEnumerator(){ return cD(bN((f6) => f6.V, this.d));} constructor(f6){ super();this.d=f6;} }
function es(f6, f7){ return{PreviousNodes:f6, Top:f7};}
function et(){ return ev(new bH("New_3"));}
function eu(f6){ const f7=[];function f8(f$, ga){ while(true)switch(f$){ case 0:if(ga!=null&&ga.$==0){ const gb=ga.$1;const gc=ga.$0;f8(0, gc);ga=gb;} else if(ga!=null&&ga.$==1){ const gd=ga.$0;ga=gd;f$=1;} else if(ga!=null&&ga.$==2){ const ge=ga.$0;ga=ge.Current;} else if(ga!=null&&ga.$==6){ const gf=ga.$0.Holes;return(((gg) =>(gh) => { b4(gg, gh);})(f_))(gf);} else return null;break;case 1:f7.push(ga);ga=ga.Children;f$=0;break;} } function f9(f$){ return f8(0, f$);} function f_(f$){ return f8(1, f$);} f9(f6);return ev(new bH("New_2", f7));}
function ev(f6){ return{$:0, $0:f6};}
function ew(f6, f7){ return ev(fd(f6, f7.$0));}
function ex(f6, f7){ return ev(fe(f6.$0, f7.$0));}
function ey(f6){ return ff(f6.$0);}
function ez(f6, f7){ return ev(fg(f6.$0, f7.$0));}
function eA(f6){ return(f7) => { try {(f6())(f7);} catch(f8){ f7.k(e_(f8));} };}
function eB(f6, f7){ return eG((f8) => { f6(e9((f9) => { if(f9.$==0){ const f_=f9.$0;eF().Fork(() => { try {(f7(f_))(f8);} catch(f$){ f8.k(e_(f$));} });} else eF().Fork(() => { f8.k(f9);});}, f8.ct));});}
function eC(){ return fb.Zero;}
function eD(f6, f7){ const f8=(eH())[0];const f9=f7==null?f8:f7.$0;eF().Fork(() => { if(!f9.c)f6(e9((f_) => { if(f_.$==1)eI(f_.$0);}, f9));});}
function eE(f6){ return(f7) => { f7.k(e$(f6));};}
function eF(){ return fb.scheduler;}
function eG(f6){ return(f7) => { if(f7.ct.c)eK(f7);else f6(f7);};}
function eH(){ return fb.defCTS;}
function eI(f6){ console.log("WebSharper: Uncaught asynchronous exception", f6);}
function eJ(f6){ return(f7) => { const f8=[false];const f9=(f_) => { if(f8[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { f8[0]=true;eF().Fork(f_);} };f6((f_) => { f9(() => { f7.k(e$(f_));});}, (f_) => { f9(() => { f7.k(e_(f_));});}, (f_) => { f9(() => { f7.k(fa(f_));});});};}
function eK(f6){ f6.k(fa(new fR("New", f6.ct)));}
function eL(){ return eW.UseAnimations;}
function eM(f6){ return eO(bY((f7) => f7.$==1?G(f7.$0):null, eY(f6.$0)));}
function eN(f6){ b4((f7) => { if(f7.$==0)f7.$0();}, eY(f6.$0));}
function eO(f6){ const f7=dG(f6);const f8=m(f7);if(f8===0)return eQ();else if(f8===1)return j(f7, 0);else { const f9=bQ(bN((f$) => f$.Duration, f7));const f_=b6((f$) => eS(f9, f$), f7);return eR(f9, (f$) => { b4((ga) => { ga.Compute(f$);}, f_);});} }
function eP(f6){ return f6.$0;}
function eQ(f6){ return eR(0, () => f6);}
function eR(f6, f7){ return{Compute:f7, Duration:f6};}
function eS(f6, f7){ const f8=f7.Compute;const f9=f7.Duration;const f_=fS(() => f7.Compute(f7.Duration));return{Compute:(f$) => f$>=f9?f_.f():f8(f$), Duration:f6};}
let eT=fY((f6) => class f7 { static { eT=f6(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eU(f6){ let f7=[];let f8;for(var f9 in f6)f7.push.apply(f7, f6[f9]);return f7;}
let eV=fY((f6) => class f7 { static { eV=f6(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f8=[1, "<table>", "</table>"];let f9=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f8], ["tbody", f8], ["tfoot", f8], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f9;this.defaultWrap=[0, "", ""];} });
let eW=fY((f6) => class f7 { static { eW=f6(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e8.Custom((f8) => { const f9=f8*f8;return 3*f9-2*(f9*f8);});this.UseAnimations=true;} });
function eX(f6, f7){ return f6.$==0?f7:f7.$==0?f6:{$:2, $0:f6, $1:f7};}
function eY(f6){ const f7=[];function f8(f9){ while(true){ if(f9.$==1)return f7.push(f9.$0);else if(f9.$==2){ const f_=f9.$1;const f$=f9.$0;f8(f$);f9=f_;} else return f9.$==3?b4((ga) => { f7.push(ga);}, f9.$0):null;} } f8(f6);return f7.slice(0);}
function eZ(f6){ const f7=dG(f6);return dH(e0(), eX, f7);}
function e0(){ return fV.Empty;}
function e1(f6){ return f6.$==1?f6.$0:e3();}
function e2(f6){ return f6.$==1?f6.$1:e3();}
function e3(){ return f("The input list was empty.");}
class e4 extends d { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f6){ return dB();} NGetEnterAnim(f6){ return dB();} NGetChangeAnim(f6){ return dB();} NSync(f6){ if(this.dirty){(this.push(f6))(this.value);this.dirty=false;} } constructor(f6, f7){ super();this.push=f7;this.value=void 0;this.dirty=false;this.updates=cs((f8) => { this.value=f8;this.dirty=true;}, f6);} }
class e5 extends Error { static New(){ return new this("New");} static New_1(f6){ return new this("New_1", f6);} constructor(f6, f7){ if(f6=="New"){ f6="New_1";f7="The given key was not present in the dictionary.";} if(f6=="New_1"){ const f8=f7;super(f8);} } }
let e6=fY((f6) => class f7 { static { e6=f6(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gm) =>[(gn) => { gn.addEventListener("change", () => gm.Get()!=gn.checked?gm.Set(gn.checked):null);}, (gn) =>(go) => go!=null&&go.$==1?void(gn.checked=go.$0):null, cs(G, gm.View)];this.StringSet=(gm) =>(gn) => { gm.value=gn;};this.StringGet=(gm) => G(gm.value);const f8=fj();const f9=fi();this.StringApply=(gm) => fh(f8, f9, gm);this.StringListSet=(gm) =>(gn) => { const go=gm.options;for(let gp=0, gq=go.length-1;gp<=gq;gp++)((() => { const gr=go.item(gp);gr.selected=ds(gr.value, gn);})());};this.StringListGet=(gm) => { const gn=gm.selectedOptions;return G(b3(bO(() => bP((go) =>[gn.item(go).value], h(0, gn.length-1)))));};const f_=fl();const f$=fk();this.StringListApply=(gm) => fh(f_, f$, gm);this.DateTimeSetUnchecked=(gm) =>(gn) => { gm.value=(new Date(gn)).toLocaleString();};this.DateTimeGetUnchecked=(gm) => { let gn;let go;const gp=gm.value;if(fF(gp))return G(-8640000000000000);else { gn=0;const gq=fP(gp);let gr=gq!=null&&gq.$==1&&(gn=gq.$0,true);go=[gr, gn];return go[0]?G(go[1]):null;} };const ga=fn();const gb=fm();this.DateTimeApplyUnchecked=(gm) => fh(ga, gb, gm);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gm) => { const gn=gm.files;return G(b3(bO(() => bN((go) => gn.item(go), h(0, gn.length-1)))));};const gc=fq();const gd=fp();this.FileApplyUnchecked=(gm) => fo(gc, gd, gm);this.IntSetUnchecked=(gm) =>(gn) => { gm.value=String(gn);};this.IntGetUnchecked=(gm) => { const gn=gm.value;if(fF(gn))return G(0);else { const go=+gn;return go!==go>>0?null:G(go);} };const ge=fs();const gf=fr();this.IntApplyUnchecked=(gm) => fh(ge, gf, gm);this.IntSetChecked=(gm) =>(gn) => { const go=gn.Input;return gm.value!=go?void(gm.value=go):null;};this.IntGetChecked=(gm) => { let gn;let go;const gp=gm.value;if(fF(gp))gn=(gm.checkValidity?gm.checkValidity():true)?fG.Blank(gp):fG.Invalid(gp);else { const gq=(go=0,[ck(gp, {get:() => go, set:(gr) => { go=gr;}}), go]);gn=gq[0]?fG.Valid(gq[1], gp):fG.Invalid(gp);} return G(gn);};const gg=fu();const gh=ft();this.IntApplyChecked=(gm) => fh(gg, gh, gm);this.FloatSetUnchecked=(gm) =>(gn) => { gm.value=String(gn);};this.FloatGetUnchecked=(gm) => { const gn=gm.value;if(fF(gn))return G(0);else { const go=+gn;return isNaN(go)?null:G(go);} };const gi=fw();const gj=fv();this.FloatApplyUnchecked=(gm) => fh(gi, gj, gm);this.FloatSetChecked=(gm) =>(gn) => { const go=gn.Input;return gm.value!=go?void(gm.value=go):null;};this.FloatGetChecked=(gm) => { let gn;const go=gm.value;if(fF(go))gn=(gm.checkValidity?gm.checkValidity():true)?fG.Blank(go):fG.Invalid(go);else { const gp=+go;gn=isNaN(gp)?fG.Invalid(go):fG.Valid(gp, go);} return G(gn);};const gk=fy();const gl=fx();this.FloatApplyChecked=(gm) => fh(gk, gl, gm);} });
class e7 extends d { idle;robin;Fork(f6){ this.robin.push(f6);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f6=Date.now();let f7=true;while(f7)if(this.robin.length===0){ this.idle=true;f7=false;} else {(this.robin.shift())();Date.now()-f6>40?(setTimeout(() => { this.tick();}, 0),f7=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class e8 extends d { transformTime;static Custom(f6){ return new e8(f6);} constructor(f6){ super();this.transformTime=f6;} }
function e9(f6, f7){ return{k:f6, ct:f7};}
function e_(f6){ return{$:1, $0:f6};}
function e$(f6){ return{$:0, $0:f6};}
function fa(f6){ return{$:2, $0:f6};}
let fb=fY((f6) => class f7 { static { fb=f6(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=fc(false, []);this.scheduler=new e7();this.defCTS=[new fH()];this.Zero=eE();this.GetCT=(f8) => { f8.k(e$(f8.ct));};} });
function fc(f6, f7){ return{c:f6, r:f7};}
function fd(f6, f7){ return new bH("New_2", b7(f6, ff(f7)));}
function fe(f6, f7){ const f8=new bH("New_2", ff(f7));f8.ExceptWith(ff(f6));return f8;}
function ff(f6){ const f7=b$(f6.Count, void 0);f6.CopyTo(f7, 0);return f7;}
function fg(f6, f7){ const f8=new bH("New_2", ff(f6));f8.IntersectWith(ff(f7));return f8;}
function fh(f6, f7, f8){ let f9;f9=null;return[(f_) => { const f$=() => { f8.UpdateMaybe((ga) => { let gb;f9=f6(f_);return f9!=null&&f9.$==1&&(!q(f9.$0, ga)&&(gb=[f9, f9.$0],true))?gb[0]:null;});};f_.addEventListener("change", f$);f_.addEventListener("input", f$);f_.addEventListener("keypress", f$);}, (f_) => { const f$=f7(f_);return(ga) => ga==null?null:f$(ga.$0);}, cs((f_) => { let f$;return f9!=null&&f9.$==1&&(q(f9.$0, f_)&&(f$=f9.$0,true))?null:G(f_);}, f8.View)];}
function fi(){ return e6.StringSet;}
function fj(){ return e6.StringGet;}
function fk(){ return e6.StringListSet;}
function fl(){ return e6.StringListGet;}
function fm(){ return e6.DateTimeSetUnchecked;}
function fn(){ return e6.DateTimeGetUnchecked;}
function fo(f6, f7, f8){ let f9;f9=null;return[(f_) => { f_.addEventListener("change", () => { f8.UpdateMaybe((f$) => { let ga;f9=f6(f_);return f9!=null&&f9.$==1&&(f9.$0!==f$&&(ga=[f9, f9.$0],true))?ga[0]:null;});});}, (f_) => { const f$=f7(f_);return(ga) => ga==null?null:f$(ga.$0);}, cs((f_) => { let f$;return f9!=null&&f9.$==1&&(q(f9.$0, f_)&&(f$=f9.$0,true))?null:G(f_);}, f8.View)];}
function fp(){ return e6.FileSetUnchecked;}
function fq(){ return e6.FileGetUnchecked;}
function fr(){ return e6.IntSetUnchecked;}
function fs(){ return e6.IntGetUnchecked;}
function ft(){ return e6.IntSetChecked;}
function fu(){ return e6.IntGetChecked;}
function fv(){ return e6.FloatSetUnchecked;}
function fw(){ return e6.FloatGetUnchecked;}
function fx(){ return e6.FloatSetChecked;}
function fy(){ return e6.FloatGetChecked;}
function fz(){ return e6.StringApply;}
function fA(){ return e6.FloatApplyUnchecked;}
function fB(){ return e6.BoolCheckedApply;}
function fC(){ return e6.DateTimeApplyUnchecked;}
function fD(){ return e6.FileApplyUnchecked;}
function fE(){ return e6.StringListApply;}
function fF(f6){ return eo(fO, f6);}
class fG { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f6){ return f4(fG, {$:2, $0:f6});} static Invalid(f6){ return f4(fG, {$:1, $0:f6});} static Valid(f6, f7){ return f4(fG, {$:0, $0:f6, $1:f7});} }
class fH extends d { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fI(f6, f7){ let f8;if(f7!=null&&f7.$==1){ const f9=[];f8=f7.$0[0].nextSibling;while(f8!==f7.$0[1]){ f9.push(f8);f8=f8.nextSibling;} return fM(f9);} else { let f_=f6.childNodes.length;const f$=f6.childNodes;let ga=ca(f_, (gb) => f$[gb]);return fM(ga);} }
function fJ(f6, f7){ const f8=f6.$0;return fM(b7((f9) => b_((f_) =>!(f9===f_), f8), f7.$0));}
function fK(f6, f7){ b4(f6, f7.$0);}
function fL(f6){ const f7=[];function f8(f9){ while(true){ if(f9!=null&&f9.$==2){ const f_=f9.$0;f9=f_.Current;} else if(f9!=null&&f9.$==1)return f7.push(f9.$0.El);else if(f9==null)return null;else if(f9!=null&&f9.$==5)return f7.push(f9.$0);else if(f9!=null&&f9.$==4)return f7.push(f9.$0.Text);else if(f9!=null&&f9.$==6){ const f$=f9.$0.Els;return(((gc) =>(gd) => { b4(gc, gd);})((gc) => { if(gc==null||gc.constructor===Object)f8(gc);else f7.push(gc);}))(f$);} else { const ga=f9.$1;const gb=f9.$0;f8(gb);f9=ga;} } } f8(f6.Children);return fM(dG(f7));}
function fM(f6){ return{$:0, $0:f6};}
function fN(f6){ f6.splice(0, m(f6));}
function fO(f6){ return f6.match(new RegExp("\\s"))!==null;}
function fP(f6){ const f7=Date.parse(f6);return isNaN(f7)?null:G(f7);}
function fQ(f6, f7, f8, f9){ const f_=+f6;const f$=f_===f_-f_%1&&f_>=f7&&f_<=f8;if(f$)f9.set(f_);return f$;}
class fR extends Error { ct;static New(f6){ return new this("New", f6);} static New_1(f6, f7, f8){ return new this("New_1", f6, f7, f8);} constructor(f6, f7, f8, f9){ let f_;if(f6=="New"){ f_=f7;f6="New_1";f7="The operation was canceled.";f8=null;f9=f_;} if(f6=="New_1"){ const f$=f7;const ga=f8;const gb=f9;super(f$);this.inner=ga;this.ct=gb;} } }
function fS(f6){ return fW(false, f6, fT);}
function fT(){ const f6=this.v();this.c=true;this.v=f6;this.f=fU;return f6;}
function fU(){ return this.v;}
let fV=fY((f6) => class f7 { static { fV=f6(this);} static Empty;static { this.Empty={$:0};} });
function fW(f6, f7, f8){ return{c:f6, v:f7, f:f8};}
f5(() => { b();});
fX();

